{"version":3,"sources":["../src/childrenHavePropXorChildren.js"],"names":["childrenHavePropXorChildren","prop","TypeError","validator","childrenHavePropXorChildrenWithProp","_","componentName","children","childrenCount","Children","count","propCount","grandchildrenCount","forEach","child","props","isRequired"],"mappings":";;;;;;qBAGwBA,2B;;AAHxB;;;;AACA;;;;;;AAEe,SAASA,2BAAT,CAAqCC,IAArC,EAA2C;AACxD,MAAI,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,QAAOA,IAAP,yCAAOA,IAAP,OAAgB,QAAhD,EAA0D;AACxD,UAAM,IAAIC,SAAJ,CAAc,wCAAd,CAAN;AACD;;AAED,MAAMC;AAAY,aAASC,mCAAT,OAA2DC,CAA3D,EAA8DC,aAA9D,EAA6E;AAAA,UAA9BC,QAA8B,QAA9BA,QAA8B;;AAC7F,UAAMC,gBAAgB,mBAAMC,QAAN,CAAeC,KAAf,CAAqBH,QAArB,CAAtB;AACA,UAAII,YAAY,CAAhB;AACA,UAAIC,qBAAqB,CAAzB;;AAEA,yBAAMH,QAAN,CAAeI,OAAf,CAAuBN,QAAvB,EAAiC,UAACO,KAAD,EAAW;AAC1C,YAAIA,MAAMC,KAAN,CAAYd,IAAZ,CAAJ,EAAuB;AACrBU,uBAAa,CAAb;AACD;AACD,YAAI,mBAAMF,QAAN,CAAeC,KAAf,CAAqBI,MAAMC,KAAN,CAAYR,QAAjC,CAAJ,EAAgD;AAC9CK,gCAAsB,CAAtB;AACD;AACF,OAPD;;AASA,UACGD,cAAcH,aAAd,IAA+BI,uBAAuB,CAAvD,IACCD,cAAc,CAAd,IAAmBC,uBAAuBJ,aAD3C,IAECG,cAAc,CAAd,IAAmBC,uBAAuB,CAH7C,EAIE;AACA,eAAO,IAAP;AACD;;AAED,aAAO,IAAIV,SAAJ,cAAmBI,aAAnB,2DAA0EL,IAA1E,sDAAP;AACD;;AAvBK,WAAqBG,mCAArB;AAAA,KAAN;AAwBAD,YAAUa,UAAV,GAAuBb,SAAvB;;AAEA,SAAO,gCAAcA,SAAd,kDAAgEF,IAAhE,GAAwEA,IAAxE,CAAP;AACD","file":"childrenHavePropXorChildren.js","sourcesContent":["import React from 'react';\nimport wrapValidator from './helpers/wrapValidator';\n\nexport default function childrenHavePropXorChildren(prop) {\n  if (typeof prop !== 'string' && typeof prop !== 'symbol') {\n    throw new TypeError('invalid prop: must be string or symbol');\n  }\n\n  const validator = function childrenHavePropXorChildrenWithProp({ children }, _, componentName) {\n    const childrenCount = React.Children.count(children);\n    let propCount = 0;\n    let grandchildrenCount = 0;\n\n    React.Children.forEach(children, (child) => {\n      if (child.props[prop]) {\n        propCount += 1;\n      }\n      if (React.Children.count(child.props.children)) {\n        grandchildrenCount += 1;\n      }\n    });\n\n    if (\n      (propCount === childrenCount && grandchildrenCount === 0) ||\n      (propCount === 0 && grandchildrenCount === childrenCount) ||\n      (propCount === 0 && grandchildrenCount === 0)\n    ) {\n      return null;\n    }\n\n    return new TypeError(`\\`${componentName}\\` requires children to all have prop “${prop}”, all have children, or all have neither.`);\n  };\n  validator.isRequired = validator;\n\n  return wrapValidator(validator, `childrenHavePropXorChildrenWithProp:${prop}`, prop);\n}\n"]}